<html>
<head>
   <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>
   xadcps v2_0
</title>
<link href="$DriverApiDocsCssPath" rel="stylesheet" type="text/css">
</head>
<h3 class="PageHeader">Xilinx Processor IP Library</h3>
<hl>Software Drivers</hl>
<hr class="whs1">
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li id="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>xadcps v2_0</h1>
<p>
The <a class="el" href="struct_x_adc_ps.html">XAdcPs</a> driver supports the Xilinx XADC/ADC device.<p>
The XADC/ADC device has the following features:<ul>
<li>10-bit, 200-KSPS (kilo samples per second) Analog-to-Digital Converter (ADC)</li><li>Monitoring of on-chip supply voltages and temperature</li><li>1 dedicated differential analog-input pair and 16 auxiliary differential analog-input pairs</li><li>Automatic alarms based on user defined limits for the on-chip supply voltages and temperature</li><li>Automatic Channel Sequencer, programmable averaging, programmable acquisition time for the external inputs, unipolar or differential input selection for the external inputs</li><li>Inbuilt Calibration</li><li>Optional interrupt request generation</li></ul>
<p>
The user should refer to the hardware device specification for detailed information about the device.<p>
This header file contains the prototypes of driver functions that can be used to access the XADC/ADC device.<p>
<b> XADC Channel Sequencer Modes </b><p>
The XADC Channel Sequencer supports the following operating modes:<p>
<ul>
<li><b> Default </b>: This is the default mode after power up. In this mode of operation the XADC operates in a sequence mode, monitoring the on chip sensors: Temperature, VCCINT, and VCCAUX.</li><li><b> One pass through sequence </b>: In this mode the XADC converts the channels enabled in the Sequencer Channel Enable registers for a single pass and then stops.</li><li><b> Continuous cycling of sequence </b>: In this mode the XADC converts the channels enabled in the Sequencer Channel Enable registers continuously.</li><li><b> Single channel mode</b>: In this mode the XADC Channel Sequencer is disabled and the XADC operates in a Single Channel Mode. The XADC can operate either in a Continuous or Event driven sampling mode in the single channel mode.</li><li><b> Simultaneous Sampling Mode</b>: In this mode the XADC Channel Sequencer will automatically sequence through eight fixed pairs of auxiliary analog input channels for simulataneous conversion.</li><li><b> Independent ADC mode</b>: In this mode the first ADC (A) is used to is used to implement a fixed monitoring mode similar to the default mode but the alarm fucntions ar eenabled. The second ADC (B) is available to be used with external analog input channels only.</li></ul>
<p>
Read the XADC spec for more information about the sequencer modes.<p>
<b> Initialization and Configuration </b><p>
The device driver enables higher layer software (e.g., an application) to communicate to the XADC/ADC device.<p>
<a class="el" href="xadcps_8c.html#ecd07d662c3b3ff363a7a833b3127f9e">XAdcPs_CfgInitialize()</a> API is used to initialize the XADC/ADC device. The user needs to first call the <a class="el" href="xadcps__sinit_8c.html#4739f71bd0b4bdb8561e2fa97dfbb416">XAdcPs_LookupConfig()</a> API which returns the Configuration structure pointer which is passed as a parameter to the <a class="el" href="xadcps_8c.html#ecd07d662c3b3ff363a7a833b3127f9e">XAdcPs_CfgInitialize()</a> API.<p>
<b>Interrupts</b><p>
The XADC/ADC device supports interrupt driven mode and the default operation mode is polling mode.<p>
The interrupt mode is available only if hardware is configured to support interrupts.<p>
This driver does not provide a Interrupt Service Routine (ISR) for the device. It is the responsibility of the application to provide one if needed. Refer to the interrupt example provided with this driver for details on using the device in interrupt mode.<p>
<b> Virtual Memory </b><p>
This driver supports Virtual Memory. The RTOS is responsible for calculating the correct device base address in Virtual Memory space.<p>
<b> Threads </b><p>
This driver is not thread safe. Any needs for threads or thread mutual exclusion must be satisfied by the layer above this driver.<p>
<b> Asserts </b><p>
Asserts are used within all Xilinx drivers to enforce constraints on argument values. Asserts can be turned off on a system-wide basis by defining, at compile time, the NDEBUG identifier. By default, asserts are turned on and it is recommended that users leave asserts on during development.<p>
<b> Building the driver </b><p>
The <a class="el" href="struct_x_adc_ps.html">XAdcPs</a> driver is composed of several source files. This allows the user to build and link only those parts of the driver that are necessary.<p>
<b> Limitations of the driver </b><p>
XADC/ADC device can be accessed through the JTAG port and the PLB interface. The driver implementation does not support the simultaneous access of the device by both these interfaces. The user has to care of this situation in the user application code.<p>
<br>
<br>
<p>
<pre></pre><p>
<pre> MODIFICATION HISTORY:</pre><p>
<pre> Ver   Who    Date     Changes
 ----- -----  -------- -----------------------------------------------------
 1.00a ssb    12/22/11 First release based on the XPS/AXI xadc driver
 1.01a bss    02/18/13	Modified XAdcPs_SetSeqChEnables,XAdcPs_SetSeqAvgEnables
			XAdcPs_SetSeqInputMode and XAdcPs_SetSeqAcqTime APIs
			in <a class="el" href="xadcps_8c.html">xadcps.c</a> to fix CR #693371
 1.03a bss    11/01/13 Modified <a class="el" href="xadcps__hw_8h.html">xadcps_hw.h</a> to use correct Register offsets
			CR#749687
 2.0   hk      03/07/14 Version number revised.
 </pre> Copyright @ 1995-2014 Xilinx, Inc. All rights reserved. 
